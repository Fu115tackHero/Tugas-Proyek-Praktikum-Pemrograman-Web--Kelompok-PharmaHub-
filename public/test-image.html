<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Image Loading</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }
    .image-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    .image-card {
      border: 1px solid #ddd;
      padding: 10px;
      border-radius: 8px;
    }
    .image-card img {
      width: 100%;
      height: 200px;
      object-fit: contain;
      background: #f0f0f0;
      border-radius: 4px;
    }
    .status {
      margin-top: 10px;
      padding: 5px;
      font-size: 12px;
      border-radius: 4px;
    }
    .success { background: #d4edda; color: #155724; }
    .error { background: #f8d7da; color: #721c24; }
  </style>
</head>
<body>
  <h1>Test Product Images from Database</h1>
  <p>Testing image loading from: <code>http://localhost:3001/api/products/:id/image</code></p>
  
  <div id="imageGrid" class="image-grid"></div>

  <script>
    const API_URL = 'http://localhost:3001';
    const imageGrid = document.getElementById('imageGrid');

    // Test images for product IDs 1-15
    for (let id = 1; id <= 15; id++) {
      const card = document.createElement('div');
      card.className = 'image-card';
      
      const img = document.createElement('img');
      const imageUrl = `${API_URL}/api/products/${id}/image`;
      img.src = imageUrl;
      img.alt = `Product ${id}`;
      
      const status = document.createElement('div');
      status.className = 'status';
      status.textContent = `Loading Product ${id}...`;
      
      img.onload = function() {
        status.className = 'status success';
        status.textContent = `✅ Product ${id} loaded`;
        console.log(`Success: Product ${id} image loaded`);
      };
      
      img.onerror = function() {
        status.className = 'status error';
        status.textContent = `❌ Product ${id} failed`;
        console.error(`Error: Product ${id} image failed to load from ${imageUrl}`);
      };
      
      card.appendChild(img);
      card.appendChild(status);
      imageGrid.appendChild(card);
    }
  </script>
</body>
</html>
