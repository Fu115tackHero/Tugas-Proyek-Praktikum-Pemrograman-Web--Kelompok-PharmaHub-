<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Keranjang Belanja - PharmaHub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body
    class="bg-gradient-to-b from-blue-50 to-blue-100 min-h-screen transition-all duration-300"
  >
    <header class="bg-white shadow-md">
      <div
        class="container mx-auto px-4 sm:px-6 py-4 flex justify-between items-center"
      >
        <a href="index.html" class="flex items-center">
          <img
            src="assets/pharmahub-logo.png"
            alt="PharmaHub"
            class="h-10 w-auto"
          />
          <span class="ml-3 text-xl font-semibold text-blue-700"
            >PharmaHub</span
          >
        </a>
        <nav class="space-x-6 text-sm font-medium text-gray-700 hidden md:flex">
          <a href="index.html" class="hover:text-blue-600">Beranda</a>
          <a href="produk.html" class="hover:text-blue-600">Produk</a>
          <a href="keranjang.html" class="text-blue-600 font-semibold"
            >Keranjang</a
          >
          <a href="login.html" class="hover:text-blue-600">Login</a>
        </nav>
      </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 py-12">
      <h1 class="text-3xl font-bold text-gray-800 mb-8 text-center">
        Keranjang Belanja
      </h1>

      <div
        id="cartContainer"
        class="overflow-x-auto bg-white shadow-md rounded-lg"
      >
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-blue-600 text-white">
            <tr>
              <th class="py-3 px-4 text-left text-sm font-semibold">Produk</th>
              <th class="py-3 px-4 text-left text-sm font-semibold">Harga</th>
              <th class="py-3 px-4 text-left text-sm font-semibold">Jumlah</th>
              <th class="py-3 px-4 text-left text-sm font-semibold">Total</th>
              <th class="py-3 px-4 text-center text-sm font-semibold">Aksi</th>
            </tr>
          </thead>
          <tbody id="cartItems" class="divide-y divide-gray-100 text-gray-700">
            <tr>
              <td class="py-4 px-4">Paracetamol 500mg</td>
              <td class="py-4 px-4 harga" data-harga="5000">Rp5.000</td>
              <td class="py-4 px-4">
                <input
                  type="number"
                  class="jumlah w-16 border rounded-md text-center"
                  min="1"
                  value="2"
                />
              </td>
              <td class="py-4 px-4 total">Rp10.000</td>
              <td class="py-4 px-4 text-center">
                <button class="hapus text-red-500 hover:text-red-700">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </td>
            </tr>
            <tr>
              <td class="py-4 px-4">Vitamin C 1000mg</td>
              <td class="py-4 px-4 harga" data-harga="12000">Rp12.000</td>
              <td class="py-4 px-4">
                <input
                  type="number"
                  class="jumlah w-16 border rounded-md text-center"
                  min="1"
                  value="1"
                />
              </td>
              <td class="py-4 px-4 total">Rp12.000</td>
              <td class="py-4 px-4 text-center">
                <button class="hapus text-red-500 hover:text-red-700">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div
        class="mt-8 flex flex-col sm:flex-row justify-between items-center bg-white shadow-sm p-6 rounded-lg"
      >
        <p
          id="grandTotal"
          class="text-gray-800 font-semibold text-lg mb-4 sm:mb-0"
        >
          Total Keseluruhan: <span class="text-blue-700">Rp22.000</span>
        </p>
        <div class="space-x-4">
          <button
            id="clearCart"
            class="bg-red-500 hover:bg-red-600 text-white px-5 py-2 rounded-lg transition"
          >
            Hapus Semua
          </button>
          <button
            class="bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-lg transition"
          >
            Checkout
          </button>
        </div>
      </div>
    </main>

    <footer class="bg-gray-800 text-white py-6 mt-12 text-center">
      <p class="text-sm text-gray-300">
        &copy; 2024 PharmaHub. All rights reserved.
      </p>
    </footer>

    <script>
      function formatRupiah(num) {
        return "Rp" + num.toLocaleString("id-ID");
      }

      function updateTotal() {
        let grandTotal = 0;
        document.querySelectorAll("#cartItems tr").forEach((row) => {
          const harga = parseInt(row.querySelector(".harga").dataset.harga);
          const jumlah = parseInt(row.querySelector(".jumlah").value);
          const total = harga * jumlah;
          row.querySelector(".total").textContent = formatRupiah(total);
          grandTotal += total;
        });
        document.querySelector("#grandTotal span").textContent =
          formatRupiah(grandTotal);
      }

      document.querySelectorAll(".jumlah").forEach((input) => {
        input.addEventListener("input", updateTotal);
      });

      document.querySelectorAll(".hapus").forEach((btn) => {
        btn.addEventListener("click", (e) => {
          e.target.closest("tr").remove();
          updateTotal();
        });
      });

      document.getElementById("clearCart").addEventListener("click", () => {
        document.getElementById("cartItems").innerHTML = "";
        updateTotal();
      });

      updateTotal();
    </script>
  </body>
</html>
